{{!--
=============================================================================
NEWSLETTER SIGNUP PARTIAL
=============================================================================

Newsletter subscription form component.
Only shown when:
- Members is enabled in Ghost
- User is not logged in (shows thank you message if logged in)

USAGE:
Include in templates with: {{> newsletter}}
Typically placed at the end of posts.

FUNCTIONALITY:
- Uses Ghost Portal's data-members-form for signup
- Displays error messages via data-members-error

CSS: See assets/css/custom.css §10 (Newsletter Signup)
--}}
{{#if @site.members_enabled}}
    {{#unless @member}}
        <section class="newsletter-signup">
            <h3>Subscribe to {{@site.title}}</h3>
            <p>Get the latest posts delivered right to your inbox.</p>
            <form data-members-form="subscribe">
                <fieldset role="group">
                    <input 
                        type="email" 
                        name="email" 
                        placeholder="your@email.com" 
                        required 
                        data-members-email
                        aria-label="Email address"
                    >
                    <button type="submit">Subscribe</button>
                </fieldset>
                <small class="form-message" data-members-error></small>
            </form>
        </section>
    {{else}}
        <section class="newsletter-signup">
            <p>Thanks for subscribing, {{@member.name}}! ✉️</p>
        </section>
    {{/unless}}
{{/if}}
