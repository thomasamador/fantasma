{{!--
=============================================================================
POST TEMPLATE - Default Single Post Layout
=============================================================================

Displays individual blog posts with standard formatting.
This is the fallback template when no post-type template exists.

SPECIAL POST TEMPLATES:
Posts with internal tags (#tagname) use custom templates:
- #art   → post-hash-art.hbs   (visual/image posts)
- #essay → post-hash-essay.hbs (long-form with sidenotes)
- #story → post-hash-story.hbs (fiction with drop caps)
- #note  → post-hash-note.hbs  (minimal tweet-like)

STRUCTURE:
- Header: Title, date, reading time
- Feature Image: Optional hero image with caption
- Content: Post body (uses .gh-content styles)
- Footer: Tags, author card, newsletter CTA

CSS CLASSES (see assets/css/custom.css §8-§9):
- .post.outer: Article wrapper
- .post-header: Title and meta
- .gh-content: Main content area (Koenig editor output)
- .post-footer: Tags and author info

TO CUSTOMIZE:
- Layout: Modify HTML structure below
- Styling: Edit CSS §8 (Single Post) and §9 (gh-content)
--}}
{{!< default}}

{{#post}}
<article class="post {{post_class}} outer">
    <div class="inner">
        <header class="post-header">
            <h1 class="post-title">{{title}}</h1>
            <p class="post-meta">
                <time datetime="{{date format="YYYY-MM-DD"}}">{{date format="MMMM D, YYYY"}}</time>
                {{#if reading_time}}
                    <span class="reading-time">&bull; {{reading_time}} min read</span>
                {{/if}}
            </p>
        </header>
        
        {{#if feature_image}}
            <figure class="post-feature-image">
                <img 
                    src="{{img_url feature_image size="l"}}" 
                    alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                    loading="eager"
                >
                {{#if feature_image_caption}}
                    <figcaption>{{feature_image_caption}}</figcaption>
                {{/if}}
            </figure>
        {{/if}}
        
        <section class="gh-content post-content">
            {{content}}
        </section>
        
        <footer class="post-footer">
            {{#if primary_tag}}
                <p class="post-tags">
                    Tagged in: 
                    {{#foreach tags}}
                        <a href="{{url}}">{{name}}</a>{{#unless @last}}, {{/unless}}
                    {{/foreach}}
                </p>
            {{/if}}
            
            {{#foreach authors}}
                <section class="author-card" aria-label="Author">
                    {{#if profile_image}}
                        <img 
                            src="{{img_url profile_image size="xs"}}" 
                            alt="{{name}}"
                            class="author-avatar"
                        >
                    {{/if}}
                    <div>
                        <strong>{{name}}</strong>
                        {{#if bio}}
                            <p>{{bio}}</p>
                        {{/if}}
                    </div>
                </section>
            {{/foreach}}
        </footer>
    </div>
</article>
{{/post}}
