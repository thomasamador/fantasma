/*
 * =============================================================================
 * CUSTOM CSS FOR MINIMAL GHOST THEME
 * =============================================================================
 *
 * This stylesheet provides all custom styling for the Ghost theme.
 * It layers on top of Pico CSS (loaded in default.hbs).
 *
 * ARCHITECTURE OVERVIEW:
 * ----------------------
 * - Uses CSS Custom Properties (variables) for easy theming
 * - Follows mobile-first responsive design with breakpoints at:
 *   • 991px (tablet)
 *   • 767px (mobile)
 *   • 479px (small mobile)
 * - All mobile adjustments controlled via --mobile-* variables (see §13)
 *
 * HOW TO CUSTOMIZE:
 * -----------------
 * 1. FONTS: Edit @font-face rules in §1 and variables in §2
 * 2. COLORS: Override Pico CSS color variables in §2
 * 3. SPACING: Adjust --spacing-* and --content-width variables in §2
 * 4. MOBILE: Edit --mobile-* variables in §13 for responsive adjustments
 *
 * =============================================================================
 * TABLE OF CONTENTS
 * =============================================================================
 *
 * §1.  FONT IMPORTS ........................... Custom web fonts (@font-face)
 * §2.  CSS CUSTOM PROPERTIES .................. Theme variables & Pico overrides
 * §3.  BASE TYPOGRAPHY ........................ html, body, headings
 * §4.  LAYOUT SYSTEM .......................... .outer, .inner, .viewport containers
 * §5.  HEADER & NAVIGATION .................... .gh-head, burger menu, mobile overlay
 * §6.  HERO SECTION ........................... Homepage hero & signup form
 * §7.  POST FEED & CARDS ...................... Index page post listings
 * §8.  SINGLE POST/PAGE ....................... Individual post & page layouts
 * §9.  GHOST CONTENT (gh-content) ............. Post body, Koenig editor cards
 * §10. COMMON COMPONENTS ...................... Footer, pagination, newsletter, errors
 * §11. ARCHIVE PAGES .......................... Tag & author listing pages
 * §12. POST TYPE TEMPLATES .................... Art, Essay, Story, Note layouts
 * §13. MOBILE RESPONSIVE ...................... All responsive breakpoints
 * §14. ACCESSIBILITY & PRINT .................. Motion, touch, print styles
 *
 * =============================================================================
 */


/* =============================================================================
   §1. FONT IMPORTS (Self-hosted)
   =============================================================================
   
   Custom fonts are stored in /assets/fonts/
   
   - iA Writer Duo V: Body text (monospace for readability)
   - Mona Sans: Headings (variable-weight sans-serif)
   
   To change fonts:
   1. Add font files to /assets/fonts/
   2. Update @font-face rules below
   3. Update --font-family-* variables in §2
   ========================================================================== */

/* iA Writer Duo V - body text */
@font-face {
    font-family: 'iA Writer Duo V';
    src: url('../fonts/iAWriterDuoV.ttf') format('truetype');
    font-weight: 100 900;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'iA Writer Duo V';
    src: url('../fonts/iAWriterDuoV-Italic.ttf') format('truetype');
    font-weight: 100 900;
    font-style: italic;
    font-display: swap;
}

/* Mona Sans - headings */
@font-face {
    font-family: 'Mona Sans';
    src: url('../fonts/Mona-Sans.woff2') format('woff2');
    font-weight: 200 900;
    font-style: normal;
    font-display: swap;
}


/* =============================================================================
   §2. CSS CUSTOM PROPERTIES (Theme Variables)
   =============================================================================
   
   Central location for all customizable theme values.
   
   TYPOGRAPHY:
   - --font-family-body: Main body text font
   - --font-family-heading: Headings and titles
   - --pico-font-size: Base font size (93.75% = 15px)
   
   LAYOUT:
   - --content-width: Max width for reading content (60ch ≈ 600px)
   - --content-width-wide: Wider layout for essays with sidenotes
   - --spacing-content: Standard content padding
   
   SIDENOTES (Essay posts):
   - --sidenote-width: Width of sidenote column
   - --sidenote-gap: Gap between content and sidenotes
   ========================================================================== */

:root {
    /* Typography */
    --font-family-body: 'iA Writer Duo V', 'Menlo', 'Monaco', 'Courier New', monospace;
    --font-family-heading: 'Mona Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
    --font-family: var(--font-family-body);
    
    /* Override Pico CSS font variables */
    --pico-font-family: var(--font-family-body);
    --pico-font-family-sans-serif: var(--font-family-heading);
    --pico-font-size: 93.75%;  /* 15px base instead of 16px */
    
    /* Reading optimized */
    --line-height-reading: 1.65;
    --content-width: 60ch;
    --content-width-wide: 75ch;
    
    /* Spacing */
    --spacing-content: 1.5rem;
    
    /* Sidenote column width */
    --sidenote-width: 180px;
    --sidenote-gap: 1.5rem;
}

/* Direct font application (overrides any inline styles) */
html, body {
    font-family: var(--font-family-body) !important;
    font-size: 93.75%; /* 15px base */
}

/* Apply heading font to all headings */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family-heading);
    font-weight: 600;
}

h1 { font-size: 1.75rem; }
h2 { font-size: 1.4rem; }
h3 { font-size: 1.15rem; }
h4 { font-size: 1rem; }

/* Force light mode by default */
:root {
    color-scheme: light;
}

/* Dark mode only when explicitly set */
[data-theme="dark"] {
    color-scheme: dark;
}


/* =============================================================================
   §3. BASE TYPOGRAPHY
   =============================================================================
   
   Global typography rules applied to all pages.
   Heading sizes (h1-h4) defined here; h5-h6 use browser defaults.
   ========================================================================== */

/* (Typography rules are above with :root and html,body) */


/* =============================================================================
   §4. LAYOUT SYSTEM
   =============================================================================
   
   Container system inspired by Ghost Casper theme:
   
   .viewport - Full page flex container (min-height: 100vh)
   .outer    - Horizontal padding container (use on sections)
   .inner    - Centered max-width container (nest inside .outer)
   
   Usage in templates:
   <section class="outer">
       <div class="inner">
           Content here...
       </div>
   </section>
   ========================================================================== */

main.container {
    padding-top: var(--spacing-content);
    padding-bottom: var(--spacing-content);
}


/* ========================================
   Casper-style Layout System
   ======================================== */

/* Outer container - provides horizontal padding */
.outer {
    padding: 0 max(4vmin, 20px);
}

/* Inner container - centered content with max-width */
.inner {
    margin: 0 auto;
    max-width: 960px;
    width: 100%;
}

/* Narrower inner for posts */
.posts .inner,
.posts.inner {
    max-width: 600px;
}

/* Viewport wrapper */
.viewport {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.site-content {
    flex-grow: 1;
}


/* =============================================================================
   §5. HEADER & NAVIGATION
   =============================================================================
   
   Site header with logo, navigation menu, and action buttons.
   Template: partials/header.hbs
   
   STRUCTURE:
   - .gh-head: Header container
   - .gh-head-brand: Logo + mobile search + burger
   - .gh-head-menu: Navigation links
   - .gh-head-actions: Desktop search + subscribe button
   
   MOBILE BEHAVIOR (≤767px):
   - Hamburger button replaces nav menu
   - Click toggles .is-open class via JS (assets/js/main.js)
   - Full-screen overlay with centered nav links
   - Search button visible next to burger
   - Body scroll locked when open
   ========================================================================== */

/* Header Container */
.gh-head {
    position: relative;
    padding-top: 2vmin;
    padding-bottom: 2vmin;
    background: var(--pico-background-color);
    z-index: 100;
}

.gh-head-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
}

/* Brand Area (logo + mobile controls) */
.gh-head-brand {
    display: flex;
    align-items: center;
    gap: 8px;
}

.gh-head-logo {
    font-family: var(--font-family-heading);
    font-size: 1.1rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--pico-color);
    text-decoration: none;
}

.gh-head-logo:hover {
    text-decoration: none;
    color: var(--pico-color);
}

.gh-head-logo img {
    max-height: 32px;
    width: auto;
}

/* Navigation Menu */
.gh-head-menu ul {
    display: flex;
    align-items: center;
    gap: 24px;
    list-style: none;
    padding: 0;
    margin: 0;
}

.gh-head-menu li {
    padding: 0;
    margin: 0;
}

.gh-head-menu a {
    font-family: var(--font-family-body);
    font-size: 0.875rem;
    color: var(--pico-color);
    text-decoration: none;
    transition: opacity 0.2s ease;
}

.gh-head-menu a:hover {
    opacity: 0.7;
}

/* Actions Area (search + subscribe) */
.gh-head-actions {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Search Button */
.gh-search {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    width: 32px;
    height: 32px;
    background: transparent;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    color: var(--pico-color);
    transition: opacity 0.2s ease;
}

.gh-search:hover {
    opacity: 0.7;
}

.gh-search svg {
    width: 18px;
    height: 18px;
}

/* Subscribe/Account Button */
.gh-head-button {
    display: inline-block;
    padding: 6px 14px;
    font-size: 0.8rem;
    font-weight: 600;
    color: #fff;
    background: var(--pico-color);
    border-radius: 5px;
    text-decoration: none;
    transition: opacity 0.2s ease;
}

.gh-head-button:hover {
    opacity: 0.9;
    color: #fff;
}

/* Hamburger Button - Hidden on Desktop */
.gh-burger {
    display: none;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    padding: 0;
    background: transparent;
    border: none;
    cursor: pointer;
    color: var(--pico-color);
}

.gh-burger svg {
    width: 24px;
    height: 24px;
}

/* Icon swap: show burger, hide close */
.gh-burger .gh-burger-close {
    display: none;
}

/* Mobile Search - Hidden on Desktop */
.gh-search-mobile {
    display: none;
}

/* -----------------------------------------------------------------------------
   Mobile Navigation (≤767px)
   -------------------------------------------------------------------------- */

@media (max-width: 767px) {
    /* Show burger and mobile search */
    .gh-burger {
        display: flex;
    }
    
    .gh-search-mobile {
        display: flex;
    }
    
    /* Hide desktop search */
    .gh-search-desktop {
        display: none;
    }
    
    /* Header becomes sticky container */
    .gh-head {
        height: 64px;
        padding: 0;
    }
    
    .gh-head-inner {
        height: 100%;
    }
    
    /* Brand takes up space for logo + mobile controls */
    .gh-head-brand {
        display: flex;
        align-items: center;
        gap: 4px;
    }
    
    /* Smaller logo on mobile */
    .gh-head-logo {
        font-size: 1rem;
    }
    
    /* Hide nav menu and actions by default */
    .gh-head-menu,
    .gh-head-actions {
        position: fixed;
        visibility: hidden;
        opacity: 0;
    }
    
    /* Keep subscribe button in actions for overlay */
    .gh-head-actions .gh-head-button {
        width: 100%;
        padding: 12px 24px;
        font-size: 1rem;
        text-align: center;
    }
}

/* -----------------------------------------------------------------------------
   Mobile Menu Open State (.is-open)
   -------------------------------------------------------------------------- */

@media (max-width: 767px) {
    /* Full-screen overlay */
    .gh-head.is-open {
        position: fixed;
        inset: 0;
        z-index: 3999;
        height: 100%;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        background: var(--pico-background-color);
    }
    
    .gh-head.is-open .gh-head-inner {
        display: grid;
        grid-template-rows: 64px 1fr auto;
        grid-template-columns: 1fr;
        gap: 32px;
        height: 100%;
        padding-bottom: 32px;
    }
    
    /* Brand stays at top */
    .gh-head.is-open .gh-head-brand {
        grid-row: 1;
        height: 64px;
    }
    
    /* Show nav menu - centered */
    .gh-head.is-open .gh-head-menu {
        position: static;
        visibility: visible;
        opacity: 1;
        grid-row: 2;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .gh-head.is-open .gh-head-menu ul {
        flex-direction: column;
        gap: 20px;
        text-align: center;
    }
    
    .gh-head.is-open .gh-head-menu a {
        font-size: 1.5rem;
        font-weight: 600;
    }
    
    /* Show actions - bottom */
    .gh-head.is-open .gh-head-actions {
        position: static;
        visibility: visible;
        opacity: 1;
        grid-row: 3;
        flex-direction: column;
        gap: 12px;
        padding: 0 16px;
    }
    
    /* Hide mobile search in overlay (it's in brand) */
    .gh-head.is-open .gh-search-mobile {
        display: flex;
    }
    
    /* Icon swap: hide burger, show close */
    .gh-head.is-open .gh-burger .gh-burger-open {
        display: none;
    }
    
    .gh-head.is-open .gh-burger .gh-burger-close {
        display: block;
    }
}


/* =============================================================================
   §6. HERO SECTION
   =============================================================================
   
   Homepage hero with site title, description, and optional signup form.
   Only appears on index.hbs when configured.
   
   Classes:
   - .gh-hero: Section container with vertical padding
   - .gh-hero-inner: Content wrapper (centered)
   - .gh-hero-title: Site name
   - .gh-hero-description: Tagline
   - .gh-hero-signup: Newsletter form wrapper
   ========================================================================== */

.gh-hero {
    padding: 5vmin 0;
    text-align: center;
    border-bottom: 1px solid var(--pico-muted-border-color);
}

.gh-hero-inner {
    max-width: 580px;
}

.gh-hero-title {
    font-family: var(--font-family-heading);
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    margin: 0 0 0.4em;
}

.gh-hero-description {
    font-family: var(--font-family-body);
    font-size: 0.95rem;
    line-height: 1.5;
    color: var(--pico-muted-color);
    margin: 0 0 1.5rem;
}

.gh-hero-signup {
    max-width: 340px;
    margin: 0 auto;
}

.gh-hero-form {
    display: flex;
    gap: 0.4rem;
}

.gh-hero-form input[type="email"] {
    flex: 1;
    margin-bottom: 0;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
}

.gh-hero-form button {
    white-space: nowrap;
    margin-bottom: 0;
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
}

.gh-hero-signup-note {
    font-size: 0.75rem;
    color: var(--pico-muted-color);
    margin-top: 0.5rem;
    margin-bottom: 0;
}

.gh-hero-welcome {
    font-size: 0.95rem;
    color: var(--pico-muted-color);
}


/* =============================================================================
   §7. POST FEED & CARDS
   =============================================================================
   
   Post listing on index and archive pages.
   
   Structure:
   <div class="gh-feed">
       <div class="post-feed">
           <article class="post-card">...</article>
           <article class="post-card">...</article>
       </div>
   </div>
   
   Note: Post cards are generated by partials/post-card.hbs
   ========================================================================== */

.gh-feed {
    padding: 4vmin 0;
}

.post-feed {
    display: flex;
    flex-direction: column;
    gap: 1.75rem;
}

.site-description {
    max-width: 60ch;
    margin-bottom: 2rem;
}


/* ========================================
   Post Cards (Index Page)
   ======================================== */

.post-card {
    display: flex;
    flex-direction: column;
    position: relative;
    margin-bottom: 0;
    padding-bottom: 1.75rem;
    border-bottom: 1px solid var(--pico-muted-border-color);
}

.post-card:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.post-card-image-link {
    display: block;
    margin-bottom: 0.875rem;
    overflow: hidden;
    border-radius: 6px;
}

.post-card-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    aspect-ratio: 16 / 9;
    transition: transform 0.3s ease;
}

.post-card-image-link:hover .post-card-image {
    transform: scale(1.02);
}

.post-card-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.post-card-content-link {
    display: block;
    text-decoration: none;
    color: inherit;
}

.post-card-content-link:hover {
    text-decoration: none;
}

.post-card-header {
    margin-bottom: 0.5rem;
}

.post-card-primary-tag {
    display: block;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--pico-primary);
    margin-bottom: 0.35rem;
}

.post-card-title {
    font-family: var(--font-family-heading);
    font-size: 1.15rem;
    font-weight: 700;
    line-height: 1.25;
    margin: 0;
    transition: opacity 0.2s ease;
}

.post-card-content-link:hover .post-card-title {
    opacity: 0.8;
}

.post-card-excerpt {
    font-size: 0.875rem;
    line-height: 1.5;
    color: var(--pico-muted-color);
    margin-top: 0.35rem;
}

.post-card-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-top: 0.75rem;
    font-size: 0.75rem;
    color: var(--pico-muted-color);
}

.post-card-meta-length::before {
    content: "•";
    margin-right: 1rem;
}


/* =============================================================================
   §8. SINGLE POST/PAGE LAYOUT
   =============================================================================
   
   Individual post and page templates.
   Used by: post.hbs, page.hbs
   
   Structure:
   <article class="post outer">
       <div class="inner">
           <header class="post-header">...</header>
           <figure class="post-feature-image">...</figure>
           <section class="gh-content">...</section>
           <footer class="post-footer">...</footer>
       </div>
   </article>
   ========================================================================== */

.post header hgroup {
    margin-bottom: 2rem;
}

.post header hgroup p {
    color: var(--muted-color);
}

/* ========================================
   Single Post/Page Layout
   ======================================== */

.post.outer,
.page.outer {
    padding-top: 4vmin;
    padding-bottom: 4vmin;
}

/* Page without title (Beta editor feature) */
.page.no-title {
    padding-top: 0;
}

.page.no-title .gh-content > .kg-width-full:first-child {
    margin-top: 0;
}

.post .inner,
.page .inner {
    max-width: 600px;
}

.post-header,
.page-header {
    text-align: center;
    margin-bottom: 3vmin;
}

.post-title,
.page-title {
    font-family: var(--font-family-heading);
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    margin: 0 0 0.4em;
}

.post-meta {
    font-size: 0.8rem;
    color: var(--pico-muted-color);
}

.post-meta .reading-time {
    margin-left: 0.25rem;
}

.post-feature-image,
.page-feature-image {
    margin: 0 0 2rem 0;
}

.post-feature-image img,
.page-feature-image img {
    width: 100%;
    height: auto;
    border-radius: 6px;
}

.post-feature-image figcaption,
.page-feature-image figcaption {
    text-align: center;
    font-size: 0.75rem;
    color: var(--pico-muted-color);
    margin-top: 0.5rem;
}


/* =============================================================================
   §9. GHOST CONTENT (gh-content)
   =============================================================================
   
   Main post/page content area. This is where Ghost's Koenig editor
   output is rendered.
   
   Key considerations:
   - Base styles for paragraphs, headings, lists, blockquotes
   - Koenig card styles (images, galleries, bookmarks, embeds)
   - Width classes: .kg-width-wide, .kg-width-full
   - Code blocks and pre formatting
   
   Koenig cards are identified by .kg-* classes.
   See Ghost docs: https://ghost.org/docs/themes/content/
   ========================================================================== */

.gh-content {
    font-size: 0.95rem;
    line-height: 1.65;
}

.gh-content > * + * {
    margin-top: 1.25em;
}

.gh-content h2,
.gh-content h3,
.gh-content h4 {
    margin-top: 2rem;
    margin-bottom: 0.4rem;
}

.gh-content img {
    max-width: 100%;
    height: auto;
    border-radius: 6px;
}

.gh-content blockquote {
    font-style: italic;
    border-left: 3px solid var(--pico-primary);
    padding-left: 1.5rem;
    margin-left: 0;
    margin-right: 0;
}

.gh-content pre {
    overflow-x: auto;
    padding: 1rem;
    border-radius: 6px;
    background: var(--pico-card-background-color);
    font-size: 0.85rem;
}

.gh-content a {
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 0.15em;
}

.gh-content a:hover {
    text-decoration-thickness: 2px;
}


/* ========================================
   Koenig Editor Width Classes
   ======================================== */

.gh-content .kg-width-wide {
    max-width: min(1040px, calc(100vw - 4vmin));
    width: calc(100% + 8vmin);
    margin-left: calc(-4vmin);
}

.gh-content .kg-width-full {
    max-width: none;
    width: calc(100% + 8vmin);
    margin-left: calc(-4vmin);
}

@media (max-width: 700px) {
    .gh-content .kg-width-wide,
    .gh-content .kg-width-full {
        width: 100%;
        margin-left: 0;
    }
}

/* Koenig card base styles */
.gh-content .kg-card {
    margin-top: 2rem;
    margin-bottom: 2rem;
}

.gh-content .kg-card figcaption {
    text-align: center;
    font-size: 0.8rem;
    color: var(--pico-muted-color);
    margin-top: 0.75rem;
}

.gh-content .kg-image-card img {
    margin: 0 auto;
}

.gh-content .kg-gallery-card {
    display: flex;
    flex-direction: column;
}

.gh-content .kg-gallery-container {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.gh-content .kg-gallery-row {
    display: flex;
    gap: 0.75rem;
}

.gh-content .kg-gallery-image img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.gh-content .kg-bookmark-card {
    border: 1px solid var(--pico-muted-border-color);
    border-radius: 6px;
    overflow: hidden;
}

.gh-content .kg-bookmark-container {
    display: flex;
    text-decoration: none;
    color: inherit;
}

.gh-content .kg-bookmark-content {
    flex: 1;
    padding: 1rem;
    display: flex;
    flex-direction: column;
}

.gh-content .kg-bookmark-title {
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.gh-content .kg-bookmark-description {
    font-size: 0.8rem;
    color: var(--pico-muted-color);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.gh-content .kg-bookmark-metadata {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: auto;
    padding-top: 0.75rem;
    font-size: 0.75rem;
}

.gh-content .kg-bookmark-icon {
    width: 16px;
    height: 16px;
}

.gh-content .kg-bookmark-thumbnail {
    width: 140px;
    flex-shrink: 0;
}

.gh-content .kg-bookmark-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}


/* -----------------------------------------------------------------------------
   Post Footer & Author Card
   -------------------------------------------------------------------------- */

/* Post footer */
.post-footer {
    margin-top: 3rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--pico-muted-border-color);
}

.post-tags a {
    text-decoration: none;
}

.post-tags a:hover {
    text-decoration: underline;
}

/* Author card */
.author-card {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    margin-top: 1.5rem;
}

.author-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
}

.author-card p {
    margin: 0;
    color: var(--muted-color);
    font-size: 0.9rem;
}


/* =============================================================================
   §10. COMMON COMPONENTS
   =============================================================================
   
   Reusable components that appear across multiple pages:
   - Newsletter signup form
   - Pagination controls
   - Site footer
   - Error pages
   ========================================================================== */

/* -----------------------------------------------------------------------------
   Newsletter Signup
   Used in: post.hbs, partials/newsletter.hbs
   -------------------------------------------------------------------------- */

.newsletter-signup {
    padding: 2rem 0;
}

.newsletter-signup h3 {
    margin-bottom: 0.5rem;
}

.newsletter-signup p {
    color: var(--muted-color);
}

.newsletter-signup form {
    max-width: 400px;
}

.newsletter-signup .form-message {
    color: var(--del-color);
}


/* -----------------------------------------------------------------------------
   Pagination
   Used in: partials/pagination.hbs
   -------------------------------------------------------------------------- */

.pagination {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem 0;
    margin-top: 2rem;
    border-top: 1px solid var(--muted-border-color);
}

.pagination-info {
    color: var(--muted-color);
    font-size: 0.9rem;
}


/* -----------------------------------------------------------------------------
   Site Footer
   Used in: partials/footer.hbs
   -------------------------------------------------------------------------- */

.site-footer {
    padding: 4vmin 0;
    border-top: 1px solid var(--pico-muted-border-color);
}

.site-footer .inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 16px;
}

.site-footer .copyright {
    font-size: 0.75rem;
    color: var(--pico-muted-color);
}

.site-footer .copyright a {
    color: inherit;
    text-decoration: none;
}

.site-footer .copyright a:hover {
    text-decoration: underline;
}

.site-footer-nav ul {
    display: flex;
    align-items: center;
    gap: 18px;
    list-style: none;
    padding: 0;
    margin: 0;
}

.site-footer-nav a {
    font-size: 0.75rem;
    color: var(--pico-muted-color);
    text-decoration: none;
}

.site-footer-nav a:hover {
    text-decoration: underline;
}

.gh-powered-by {
    font-size: 0.7rem;
    color: var(--pico-muted-color);
}

.gh-powered-by a {
    color: inherit;
    text-decoration: none;
}

.gh-powered-by a:hover {
    text-decoration: underline;
}

@media (max-width: 600px) {
    .site-footer .inner {
        flex-direction: column;
        text-align: center;
    }
}


/* -----------------------------------------------------------------------------
   Error Page (404, 500, etc.)
   Used in: error.hbs
   -------------------------------------------------------------------------- */

.error-page {
    padding: 8vmin 0;
}

.error-page .inner {
    text-align: center;
    max-width: 400px;
}

.error-code {
    font-family: var(--font-family-heading);
    font-size: clamp(4rem, 12vw, 6rem);
    font-weight: 700;
    color: var(--pico-muted-color);
    line-height: 1;
    margin-bottom: 0.4rem;
}

.error-message {
    font-family: var(--font-family-heading);
    font-size: 1.15rem;
    font-weight: 600;
    margin: 0 0 0.4rem;
}

.error-description {
    font-size: 0.875rem;
    color: var(--pico-muted-color);
    margin: 0 0 1.5rem;
}


/* =============================================================================
   §11. ARCHIVE PAGES (Tag & Author)
   =============================================================================
   
   Listing pages for posts filtered by tag or author.
   Used by: tag.hbs, author.hbs
   
   These share styling with the main post feed but have
   an additional archive header component.
   ========================================================================== */

.tag-archive,
.author-archive {
    padding: 4vmin 0;
}

.tag-archive .inner,
.author-archive .inner {
    max-width: 600px;
}

.archive-header {
    text-align: center;
    margin-bottom: 3vmin;
    padding-bottom: 3vmin;
    border-bottom: 1px solid var(--pico-muted-border-color);
}

.archive-title {
    font-family: var(--font-family-heading);
    font-size: clamp(1.4rem, 3vw, 1.75rem);
    font-weight: 700;
    letter-spacing: -0.02em;
    margin: 0 0 0.4em;
}

.archive-description {
    font-size: 0.9rem;
    line-height: 1.5;
    color: var(--pico-muted-color);
    margin: 0 0 0.75rem;
}

.archive-count {
    display: inline-block;
    font-size: 0.75rem;
    color: var(--pico-muted-color);
}

/* Author specific styles */
.author-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.author-avatar-large {
    width: 72px;
    height: 72px;
    border-radius: 50%;
    object-fit: cover;
}

.author-header-content {
    text-align: center;
}

.author-location {
    display: block;
    font-size: 0.8rem;
    color: var(--pico-muted-color);
    margin-bottom: 0.4rem;
}


/* -----------------------------------------------------------------------------
   Utility Classes
   -------------------------------------------------------------------------- */

.visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}


/* =============================================================================
   §12. POST TYPE TEMPLATES
   =============================================================================
   
   Custom layouts for different post types (controlled by internal tags).
   Each post type has its own template and CSS section:
   
   - #art    → post-hash-art.hbs   → Visual/image-focused posts
   - #essay  → post-hash-essay.hbs → Long-form with sidenotes
   - #story  → post-hash-story.hbs → Fiction with drop caps
   - #note   → post-hash-note.hbs  → Minimal tweet-like posts
   
   To add a new post type:
   1. Create post-hash-{name}.hbs template
   2. Add CSS section below
   3. Tag posts with #{name} internal tag
   ========================================================================== */


/* -----------------------------------------------------------------------------
   Art Posts
   Template: post-hash-art.hbs
   Purpose: Visual artworks with large hero image and minimal text
   -------------------------------------------------------------------------- */

.post-art {
    text-align: center;
}

.art-hero {
    margin: 0 calc(-50vw + 50%) 2rem;
    padding: 0;
}

.art-hero img {
    width: 100%;
    max-height: 90vh;
    object-fit: contain;
}

.art-header h1 {
    margin-bottom: 0.5rem;
}

.art-caption {
    color: var(--muted-color);
    font-style: italic;
    margin-bottom: 2rem;
}

.art-description {
    max-width: 60ch;
    margin: 0 auto 2rem;
    text-align: left;
}

.art-notes {
    max-width: 40ch;
    margin: 2rem auto;
    padding: 1.5rem;
    background: var(--card-background-color);
    border-radius: var(--border-radius);
    text-align: left;
}

.art-notes h2 {
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--muted-color);
    margin-bottom: 0.5rem;
}

.art-notes p {
    margin: 0;
    font-size: 0.9rem;
}

.art-footer {
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid var(--muted-border-color);
    font-size: 0.875rem;
    color: var(--muted-color);
}

.art-tags {
    margin-left: 1rem;
}

.art-tags a {
    color: var(--muted-color);
}


/* -----------------------------------------------------------------------------
   Art Gallery (Listing Page)
   Template: tag-hash-art.hbs
   Purpose: Grid display of art posts
   -------------------------------------------------------------------------- */

.gallery-header {
    text-align: center;
    margin-bottom: 3rem;
}

.art-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1.5rem;
}

.art-gallery-item {
    position: relative;
}

.art-gallery-link {
    display: block;
    aspect-ratio: 1;
    overflow: hidden;
    border-radius: var(--border-radius);
}

.art-gallery-link img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.art-gallery-link:hover img {
    transform: scale(1.05);
}

.art-gallery-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--card-background-color);
    color: var(--muted-color);
}

.art-gallery-title {
    font-size: 0.9rem;
    margin-top: 0.5rem;
    text-align: center;
}

.art-gallery-title a {
    text-decoration: none;
}


/* -----------------------------------------------------------------------------
   Essay Posts
   Template: post-hash-essay.hbs
   Purpose: Long-form writing with optional sidenotes on desktop
   
   On screens >= 1100px, essays use a two-column grid:
   - Left column: main content
   - Right column: sidenotes
   
   On mobile, sidenotes become inline note blocks.
   -------------------------------------------------------------------------- */

.post-essay {
    max-width: var(--content-width);
    margin: 0 auto;
    position: relative;
}

/* Wide layout for sidenotes on desktop */
@media (min-width: 1100px) {
    .post-essay {
        max-width: var(--content-width-wide);
        display: grid;
        grid-template-columns: 1fr var(--sidenote-width);
        gap: var(--sidenote-gap);
    }
    
    .essay-header,
    .essay-footer {
        grid-column: 1 / -1;
    }
    
    .essay-content {
        grid-column: 1;
    }
    
    .essay-sidenotes {
        grid-column: 2;
        grid-row: 2;
    }
}

.essay-header {
    margin-bottom: 2rem;
}

.essay-subtitle {
    font-size: 1.25rem;
    color: var(--muted-color);
    font-style: italic;
    margin-top: 0.5rem;
}

.essay-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem 1rem;
    color: var(--muted-color);
    font-size: 0.9rem;
    margin-top: 1rem;
}

.essay-author {
    font-weight: 500;
}

.essay-feature-image {
    margin: 2rem 0;
}

.essay-feature-image img {
    width: 100%;
    height: auto;
    border-radius: var(--border-radius);
}

.essay-feature-image figcaption {
    text-align: center;
    font-size: 0.875rem;
    color: var(--muted-color);
    margin-top: 0.5rem;
}

.essay-content {
    font-size: 1.125rem;
    line-height: var(--line-height-reading);
}

.essay-content p {
    margin-bottom: 1.5rem;
}

/* Sidenotes */
.sidenote {
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--muted-color);
    margin-bottom: 1.5rem;
    padding-left: 1rem;
    border-left: 2px solid var(--muted-border-color);
}

.sidenote-number {
    font-size: 0.75em;
    vertical-align: super;
    color: var(--muted-color);
}

/* Mobile: sidenotes become inline notes */
@media (max-width: 1099px) {
    .sidenote {
        margin: 1rem 0;
        padding: 1rem;
        background: var(--card-background-color);
        border-radius: var(--border-radius);
        border-left: 3px solid var(--muted-border-color);
    }
}

/* Footnotes styling (fallback) */
.essay-content .footnotes {
    margin-top: 3rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--muted-border-color);
    font-size: 0.9rem;
}

.essay-content sup {
    font-size: 0.75em;
}

.essay-footer {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid var(--muted-border-color);
}

.essay-author-card {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    margin-top: 1.5rem;
}


/* -----------------------------------------------------------------------------
   Essays Listing Page
   Template: page-essays.hbs
   -------------------------------------------------------------------------- */

.essays-header {
    border-bottom: none;
}

.essays-list {
    max-width: 65ch;
}

.essay-card {
    margin-bottom: 2.5rem;
    padding-bottom: 2.5rem;
    border-bottom: 1px solid var(--muted-border-color);
}

.essay-card:last-child {
    border-bottom: none;
}

.essay-card h2 {
    margin-bottom: 0.25rem;
}

.essay-card h2 a {
    text-decoration: none;
}

.essay-card-meta {
    font-size: 0.875rem;
    color: var(--muted-color);
}

.essay-card-reading-time::before {
    content: "·";
    margin: 0 0.5rem;
}

.essay-card-excerpt {
    margin-top: 0.75rem;
    color: var(--muted-color);
}

.essay-card-tags {
    margin-top: 0.5rem;
    font-size: 0.875rem;
}


/* -----------------------------------------------------------------------------
   Story Posts
   Template: post-hash-story.hbs
   Purpose: Fiction/narrative posts with immersive reading experience
   
   Features:
   - Large hero images
   - Drop caps on first paragraph
   - Generous line-height (1.9) for reading comfort
   - Optional table of contents
   - Chapter heading support
   -------------------------------------------------------------------------- */

.post-story {
    max-width: 70ch;
    margin: 0 auto;
}

.story-hero {
    margin: 0 calc(-50vw + 50%) 2rem;
    text-align: center;
}

.story-hero img {
    width: 100%;
    max-height: 70vh;
    object-fit: cover;
}

.story-hero figcaption {
    font-size: 0.875rem;
    color: var(--muted-color);
    margin-top: 0.5rem;
}

.story-header {
    text-align: center;
    margin-bottom: 2rem;
}

.story-header h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
}

.story-tagline {
    font-size: 1.25rem;
    font-style: italic;
    color: var(--muted-color);
}

.story-meta {
    margin-top: 1rem;
    font-size: 0.9rem;
    color: var(--muted-color);
}

.story-reading-time::before {
    content: "·";
    margin: 0 0.5rem;
}

/* Table of Contents */
.story-toc {
    background: var(--card-background-color);
    padding: 1.5rem;
    border-radius: var(--border-radius);
    margin-bottom: 3rem;
}

.story-toc h2 {
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--muted-color);
    margin-bottom: 1rem;
}

.story-toc ol {
    margin: 0;
    padding-left: 1.25rem;
}

.story-toc li {
    margin-bottom: 0.5rem;
}

.story-toc a {
    text-decoration: none;
}

.story-toc a:hover {
    text-decoration: underline;
}

/* Story content */
.story-content {
    font-size: 1.125rem;
    line-height: 1.9;
}

.story-content p {
    margin-bottom: 1.5rem;
    text-indent: 1.5em;
}

.story-content p:first-child,
.story-content h2 + p,
.story-content h3 + p {
    text-indent: 0;
}

/* Drop cap for first paragraph */
.story-content > p:first-of-type::first-letter {
    float: left;
    font-size: 4rem;
    line-height: 0.8;
    padding-right: 0.5rem;
    padding-top: 0.1em;
    font-weight: 400;
}

/* Drop cap after chapter headings */
.story-content h2 + p::first-letter {
    float: left;
    font-size: 3.5rem;
    line-height: 0.8;
    padding-right: 0.4rem;
    padding-top: 0.1em;
    font-weight: 400;
}

.story-chapter-heading {
    margin-top: 4rem;
    margin-bottom: 2rem;
    text-align: center;
    font-size: 1.5rem;
}

.story-footer {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid var(--muted-border-color);
    text-align: center;
}

.story-end-mark {
    font-size: 1.5rem;
    color: var(--muted-color);
    margin-top: 2rem;
}

.story-author-card {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    justify-content: center;
    margin-top: 1.5rem;
    text-align: left;
}


/* -----------------------------------------------------------------------------
   Stories Listing Page
   Template: page-stories.hbs
   -------------------------------------------------------------------------- */

.stories-list {
    display: grid;
    gap: 2rem;
}

.story-card {
    display: grid;
    grid-template-columns: 150px 1fr;
    gap: 1.5rem;
    align-items: start;
}

@media (max-width: 600px) {
    .story-card {
        grid-template-columns: 1fr;
    }
}

.story-card-image {
    aspect-ratio: 2/3;
    overflow: hidden;
    border-radius: var(--border-radius);
}

.story-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.story-card h2 {
    margin-bottom: 0.25rem;
}

.story-card h2 a {
    text-decoration: none;
}

.story-card-author {
    font-size: 0.9rem;
    color: var(--muted-color);
    margin-top: 0;
}

.story-card-tagline {
    margin-top: 0.5rem;
    font-style: italic;
}

.story-card-meta {
    font-size: 0.875rem;
    color: var(--muted-color);
    margin-top: 0.5rem;
}


/* -----------------------------------------------------------------------------
   Note Posts
   Template: post-hash-note.hbs
   Purpose: Short, tweet-like posts with minimal styling
   
   Notes are intentionally stripped down - no borders,
   no backgrounds, just text. Ideal for quick thoughts.
   -------------------------------------------------------------------------- */

.post-note {
    max-width: 55ch;
    margin: 0 auto;
}

.note-wrapper {
    /* Intentionally minimal - no background, no border */
    padding: 0;
}

.note-title {
    font-size: 1.25rem;
    margin-bottom: 1rem;
}

.note-content {
    font-size: 1.2rem;
    line-height: var(--line-height-reading);
}

.note-content p:last-child {
    margin-bottom: 0;
}

.note-footer {
    margin-top: 2rem;
    font-size: 0.875rem;
    color: var(--muted-color);
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem 1rem;
}

.note-tags a {
    color: var(--muted-color);
}


/* -----------------------------------------------------------------------------
   Notes Stream (Listing)
   Template: page-notes.hbs
   -------------------------------------------------------------------------- */

.notes-header {
    border-bottom: none;
}

.notes-stream {
    max-width: 55ch;
}

.note-card {
    margin-bottom: 2.5rem;
    padding-bottom: 2.5rem;
    border-bottom: 1px solid var(--muted-border-color);
}

.note-card:last-child {
    border-bottom: none;
}

.note-card time {
    font-size: 0.8rem;
    color: var(--muted-color);
    display: block;
    margin-bottom: 0.75rem;
}

.note-card h2 {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}


/* ========================================
   Sketches Gallery Page
   ======================================== */

.sketches-page {
    padding: 4vmin 0;
}

.sketches-page .inner {
    max-width: 960px;
}

.sketches-header {
    text-align: center;
    margin-bottom: 3vmin;
}

.sketches-title {
    font-size: clamp(1.4rem, 3vw, 1.75rem);
    margin: 0 0 0.4em;
}

.sketches-description {
    font-size: 0.9rem;
    color: var(--pico-muted-color);
}

.sketches-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 12px;
}

.sketch-item {
    position: relative;
    aspect-ratio: 1;
    overflow: hidden;
    border-radius: 6px;
    background: var(--pico-card-background-color);
}

.sketch-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.sketch-item:hover img {
    transform: scale(1.05);
}

.sketch-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: flex-end;
    padding: 12px;
    background: linear-gradient(transparent 50%, rgba(0,0,0,0.6));
    opacity: 0;
    transition: opacity 0.2s ease;
}

.sketch-item:hover .sketch-overlay {
    opacity: 1;
}

.sketch-title {
    color: #fff;
    font-size: 0.8rem;
    font-weight: 500;
}

.sketch-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    text-align: center;
    font-size: 0.8rem;
    color: var(--pico-muted-color);
}

.note-card h2 a {
    text-decoration: none;
}

.note-card-content {
    font-size: 1.05rem;
    line-height: 1.7;
}

.note-card-content p {
    margin: 0;
}

.note-card-link {
    display: inline-block;
    margin-top: 0.75rem;
    font-size: 0.875rem;
    text-decoration: none;
}

.note-card-link:hover {
    text-decoration: underline;
}


/* -----------------------------------------------------------------------------
   Essays Page (Alternative Layout)
   -------------------------------------------------------------------------- */

.essays-page {
    padding: 4vmin 0;
}

.essays-page .inner {
    max-width: 600px;
}

.essays-header {
    text-align: center;
    margin-bottom: 3vmin;
}

.essays-title {
    font-size: clamp(1.4rem, 3vw, 1.75rem);
    margin: 0 0 0.4em;
}

.essays-description {
    font-size: 0.9rem;
    color: var(--pico-muted-color);
}

.essays-list {
    display: flex;
    flex-direction: column;
    gap: 0;
}

.essay-item {
    padding: 1.25rem 0;
    border-bottom: 1px solid var(--pico-muted-border-color);
}

.essay-item:first-child {
    padding-top: 0;
}

.essay-item:last-child {
    border-bottom: none;
}

.essay-link {
    display: block;
    text-decoration: none;
    color: inherit;
}

.essay-link:hover .essay-item-title {
    opacity: 0.7;
}

.essay-item-title {
    font-family: var(--font-family-heading);
    font-size: 1.1rem;
    font-weight: 600;
    margin: 0 0 0.35rem;
    transition: opacity 0.2s ease;
}

.essay-item-excerpt {
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--pico-muted-color);
    margin: 0 0 0.5rem;
}

.essay-item-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.75rem;
    color: var(--pico-muted-color);
}

.essay-item-meta .reading-time::before {
    content: "•";
    margin-right: 0.75rem;
}


/* -----------------------------------------------------------------------------
   Stories Page (Card Layout)
   -------------------------------------------------------------------------- */

.stories-page {
    padding: 4vmin 0;
}

.stories-page .inner {
    max-width: 700px;
}

.stories-header {
    text-align: center;
    margin-bottom: 3vmin;
}

.stories-title {
    font-size: clamp(1.4rem, 3vw, 1.75rem);
    margin: 0 0 0.4em;
}

.stories-description {
    font-size: 0.9rem;
    color: var(--pico-muted-color);
}

.stories-list {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.story-item {
    display: grid;
    grid-template-columns: 140px 1fr;
    gap: 1.25rem;
    align-items: start;
}

@media (max-width: 500px) {
    .story-item {
        grid-template-columns: 1fr;
    }
}

.story-image-link {
    display: block;
    border-radius: 6px;
    overflow: hidden;
    aspect-ratio: 3/2;
}

.story-image-link img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.story-image-link:hover img {
    transform: scale(1.05);
}

.story-content {
    display: flex;
    flex-direction: column;
}

.story-link {
    text-decoration: none;
    color: inherit;
}

.story-link:hover .story-item-title {
    opacity: 0.7;
}

.story-item-title {
    font-family: var(--font-family-heading);
    font-size: 1.1rem;
    font-weight: 600;
    margin: 0 0 0.35rem;
    transition: opacity 0.2s ease;
}

.story-item-excerpt {
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--pico-muted-color);
    margin: 0 0 0.5rem;
}

.story-item-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.75rem;
    color: var(--pico-muted-color);
}

.story-item-meta .reading-time::before {
    content: "•";
    margin-right: 0.75rem;
}


/* -----------------------------------------------------------------------------
   Notes Page
   Template: page-notes.hbs
   -------------------------------------------------------------------------- */

.notes-page {
    padding: 4vmin 0;
}

.notes-page .inner {
    max-width: 520px;
}

.notes-header {
    text-align: center;
    margin-bottom: 3vmin;
}

.notes-title {
    font-size: clamp(1.4rem, 3vw, 1.75rem);
    margin: 0 0 0.4em;
}

.notes-description {
    font-size: 0.9rem;
    color: var(--pico-muted-color);
}

.notes-feed {
    display: flex;
    flex-direction: column;
    gap: 0;
}

.note-item {
    padding: 1rem 0;
    border-bottom: 1px solid var(--pico-muted-border-color);
}

.note-item:first-child {
    padding-top: 0;
}

.note-item:last-child {
    border-bottom: none;
}

.note-link {
    display: block;
    text-decoration: none;
    color: inherit;
}

.note-link:hover .note-item-title,
.note-link:hover .note-item-text {
    opacity: 0.7;
}

.note-content {
    transition: opacity 0.2s ease;
}

.note-item-title {
    font-family: var(--font-family-heading);
    font-size: 0.95rem;
    font-weight: 600;
    margin: 0 0 0.25rem;
}

.note-item-text {
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--pico-muted-color);
    margin: 0;
}

.note-date {
    display: block;
    font-size: 0.7rem;
    color: var(--pico-muted-color);
    margin-top: 0.5rem;
}


/* =============================================================================
   §13. MOBILE RESPONSIVE STYLES
   =============================================================================
   
   Following Ghost Casper theme best practices for mobile optimization.
   
   BREAKPOINTS:
   - 991px:  Tablet - Minor spacing adjustments
   - 767px:  Mobile Phone - Major layout changes
   - 479px:  Small Mobile - Further size reductions
   
   HOW TO CUSTOMIZE MOBILE STYLES:
   -------------------------------
   All mobile-specific values are controlled via CSS custom properties.
   To adjust mobile typography, spacing, or sizing:
   
   1. Find the relevant @media block below (991px, 767px, or 479px)
   2. Modify the --mobile-* variables in :root
   3. The actual styles reference these variables
   
   Example: To increase mobile body font size:
   @media (max-width: 767px) {
       :root {
           --mobile-font-size-body: 1rem;  // Changed from 0.9375rem
       }
   }
   
   VARIABLE REFERENCE:
   -------------------
   Typography:
   - --mobile-font-size-base     Base html font-size (as %)
   - --mobile-font-size-body     Body text size
   - --mobile-font-size-small    Small text, meta, captions
   - --mobile-line-height        Line height for body text
   - --mobile-h1-size            H1 heading size
   - --mobile-h2-size            H2 heading size
   - --mobile-h3-size            H3 heading size
   - --mobile-post-title-size    Post/page title (uses clamp)
   
   Spacing:
   - --mobile-outer-padding      Horizontal page padding
   - --mobile-section-padding    Vertical section spacing
   - --mobile-content-gap        Gap between content elements
   - --mobile-element-spacing    General element spacing
   - --mobile-card-padding       Padding inside cards
   - --mobile-card-gap           Gap between cards in feeds
   ========================================================================== */


/* -----------------------------------------------------------------------------
   Mobile CSS Custom Properties
   
   These variables are set at each breakpoint and consumed by the styles below.
   Edit these values to adjust the mobile experience.
   -------------------------------------------------------------------------- */

@media (max-width: 991px) {
    :root {
        /* Mobile Typography - Tablet */
        --mobile-font-size-base: 93.75%;      /* Same as desktop */
        --mobile-line-height: 1.65;
        
        /* Mobile Spacing - Tablet */
        --mobile-outer-padding: max(3vmin, 16px);
        --mobile-section-padding: 4vmin;
        
        /* Mobile Content Widths */
        --mobile-content-max-width: 600px;
    }
}

@media (max-width: 767px) {
    :root {
        /* Mobile Typography - Phone */
        --mobile-font-size-base: 93.75%;      /* Maintain readability */
        --mobile-font-size-body: 0.9375rem;   /* 15px - slightly smaller for mobile */
        --mobile-font-size-small: 0.8125rem;  /* 13px */
        --mobile-line-height: 1.6;
        
        /* Mobile Heading Sizes */
        --mobile-h1-size: 1.5rem;
        --mobile-h2-size: 1.25rem;
        --mobile-h3-size: 1.1rem;
        --mobile-post-title-size: clamp(1.35rem, 5vw, 1.75rem);
        
        /* Mobile Spacing */
        --mobile-outer-padding: max(4vmin, 16px);
        --mobile-section-padding: 5vmin;
        --mobile-content-gap: 1.25rem;
        --mobile-element-spacing: 1rem;
        
        /* Mobile Card Spacing */
        --mobile-card-padding: 1rem;
        --mobile-card-gap: 1.25rem;
    }
}

@media (max-width: 479px) {
    :root {
        /* Small Mobile Typography */
        --mobile-font-size-base: 90%;         /* Slightly smaller base */
        --mobile-font-size-body: 0.875rem;    /* 14px */
        --mobile-font-size-small: 0.75rem;    /* 12px */
        
        /* Small Mobile Heading Sizes */
        --mobile-h1-size: 1.35rem;
        --mobile-h2-size: 1.15rem;
        --mobile-h3-size: 1rem;
        --mobile-post-title-size: clamp(1.25rem, 6vw, 1.5rem);
        
        /* Small Mobile Spacing */
        --mobile-outer-padding: 16px;
        --mobile-section-padding: 6vmin;
        --mobile-content-gap: 1rem;
        
        /* Small Mobile Card Spacing */
        --mobile-card-padding: 0.875rem;
        --mobile-card-gap: 1rem;
    }
}


/* -----------------------------------------------------------------------------
   Tablet Styles (max-width: 991px)
   
   Minor adjustments for tablet screens.
   Most desktop styles work well here with just spacing tweaks.
   -------------------------------------------------------------------------- */

@media (max-width: 991px) {
    /* Outer padding adjustment */
    .outer {
        padding: 0 var(--mobile-outer-padding, max(3vmin, 16px));
    }
    
    /* Feeds and sections */
    .gh-feed,
    .gh-hero {
        padding: var(--mobile-section-padding, 4vmin) 0;
    }
}


/* -----------------------------------------------------------------------------
   Mobile Phone Styles (max-width: 767px)
   
   Major layout adjustments for phone screens.
   This is where most responsive changes happen.
   -------------------------------------------------------------------------- */

@media (max-width: 767px) {
    /* Base typography */
    html, body {
        font-size: var(--mobile-font-size-base, 93.75%);
    }
    
    /* Outer container */
    .outer {
        padding: 0 var(--mobile-outer-padding, 16px);
    }
    
    /* Headings */
    h1 { font-size: var(--mobile-h1-size, 1.5rem); }
    h2 { font-size: var(--mobile-h2-size, 1.25rem); }
    h3 { font-size: var(--mobile-h3-size, 1.1rem); }
    
    /* Note: Header mobile styles are in §5 with the burger menu */
    
    /* Hero section */
    .gh-hero {
        padding: var(--mobile-section-padding, 5vmin) 0;
    }
    
    .gh-hero-title {
        font-size: clamp(1.35rem, 5vw, 1.75rem);
    }
    
    .gh-hero-description {
        font-size: 0.9rem;
    }
    
    .gh-hero-form {
        flex-direction: column;
    }
    
    .gh-hero-form input[type="email"],
    .gh-hero-form button {
        width: 100%;
    }
    
    /* Post feed */
    .gh-feed {
        padding: var(--mobile-section-padding, 5vmin) 0;
    }
    
    .post-feed {
        gap: var(--mobile-card-gap, 1.25rem);
    }
    
    /* Post cards */
    .post-card {
        padding-bottom: var(--mobile-card-gap, 1.25rem);
    }
    
    .post-card-title {
        font-size: 1.05rem;
    }
    
    .post-card-excerpt {
        font-size: 0.85rem;
        -webkit-line-clamp: 3;
    }
    
    .post-card-meta {
        font-size: 0.7rem;
    }
    
    /* Single post/page */
    .post.outer,
    .page.outer {
        padding-top: 5vmin;
        padding-bottom: 5vmin;
    }
    
    .post-title,
    .page-title {
        font-size: var(--mobile-post-title-size, clamp(1.35rem, 5vw, 1.75rem));
    }
    
    .post-meta {
        font-size: 0.75rem;
    }
    
    /* gh-content - main reading area */
    .gh-content {
        font-size: var(--mobile-font-size-body, 0.9375rem);
        line-height: var(--mobile-line-height, 1.6);
    }
    
    .gh-content > * + * {
        margin-top: var(--mobile-content-gap, 1.25rem);
    }
    
    .gh-content h2,
    .gh-content h3,
    .gh-content h4 {
        margin-top: 1.75rem;
    }
    
    .gh-content blockquote {
        padding-left: 1rem;
        font-size: 0.9rem;
    }
    
    .gh-content pre {
        font-size: 0.8rem;
        padding: 0.875rem;
    }
    
    /* Bookmark cards */
    .gh-content .kg-bookmark-container {
        flex-direction: column;
    }
    
    .gh-content .kg-bookmark-thumbnail {
        width: 100%;
        height: 160px;
        order: -1;
    }
    
    .gh-content .kg-bookmark-content {
        padding: 0.875rem;
    }
    
    .gh-content .kg-bookmark-title {
        font-size: 0.85rem;
    }
    
    .gh-content .kg-bookmark-description {
        font-size: 0.75rem;
    }
    
    /* Post footer */
    .post-footer {
        margin-top: 2rem;
        padding-top: 1.25rem;
    }
    
    /* Author card */
    .author-card {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
    
    .author-avatar {
        width: 48px;
        height: 48px;
    }
    
    /* Pagination */
    .pagination {
        padding: 1.5rem 0;
        margin-top: 1.5rem;
    }
    
    .pagination-info {
        font-size: 0.8rem;
    }
    
    /* Footer */
    .site-footer {
        padding: 5vmin 0;
    }
    
    .site-footer .inner {
        flex-direction: column;
        text-align: center;
        gap: 12px;
    }
    
    .site-footer-nav ul {
        flex-wrap: wrap;
        justify-content: center;
        gap: 12px 16px;
    }
    
    /* Newsletter */
    .newsletter-signup form {
        max-width: 100%;
    }
    
    /* Essay posts */
    .essay-content {
        font-size: 1rem;
    }
    
    .essay-subtitle {
        font-size: 1.1rem;
    }
    
    .essay-meta {
        font-size: 0.8rem;
        justify-content: center;
    }
    
    /* Notes */
    .notes-page .inner {
        max-width: 100%;
    }
    
    .note-item {
        padding: 0.875rem 0;
    }
    
    .note-item-title {
        font-size: 0.9rem;
    }
    
    .note-item-text {
        font-size: 0.8rem;
    }
}


/* -----------------------------------------------------------------------------
   Small Mobile Styles (max-width: 479px)
   
   Further size reductions for small phone screens.
   Prioritizes content density while maintaining readability.
   -------------------------------------------------------------------------- */

@media (max-width: 479px) {
    /* Base typography - slightly smaller */
    html, body {
        font-size: var(--mobile-font-size-base, 90%);
    }
    
    /* Headings - tighter */
    h1 { font-size: var(--mobile-h1-size, 1.35rem); }
    h2 { font-size: var(--mobile-h2-size, 1.15rem); }
    h3 { font-size: var(--mobile-h3-size, 1rem); }
    
    /* Note: Header mobile styles (burger menu) are in §5 */
    /* These override logo size for small screens */
    .gh-head-logo {
        font-size: 0.95rem;
    }
    
    /* Mobile overlay nav adjustments for small screens */
    .gh-head.is-open .gh-head-menu a {
        font-size: 1.25rem;
    }
    
    .gh-head.is-open .gh-head-actions .gh-head-button {
        padding: 10px 20px;
        font-size: 0.9rem;
    }
    
    /* Hero section */
    .gh-hero-title {
        font-size: var(--mobile-post-title-size, clamp(1.25rem, 6vw, 1.5rem));
    }
    
    .gh-hero-description {
        font-size: 0.85rem;
    }
    
    /* Post cards - more compact */
    .post-card-title {
        font-size: 1rem;
    }
    
    .post-card-excerpt {
        font-size: 0.8rem;
    }
    
    .post-card-primary-tag {
        font-size: 0.65rem;
    }
    
    /* Single post */
    .post-title,
    .page-title {
        font-size: var(--mobile-post-title-size, clamp(1.25rem, 6vw, 1.5rem));
    }
    
    /* gh-content */
    .gh-content {
        font-size: var(--mobile-font-size-body, 0.875rem);
    }
    
    .gh-content blockquote {
        font-size: 0.85rem;
        padding-left: 0.875rem;
    }
    
    .gh-content pre {
        font-size: 0.75rem;
        padding: 0.75rem;
    }
    
    /* Feature images */
    .post-feature-image,
    .page-feature-image {
        margin: 0 calc(var(--mobile-outer-padding, 16px) * -1);
        width: calc(100% + var(--mobile-outer-padding, 16px) * 2);
    }
    
    .post-feature-image img,
    .page-feature-image img {
        border-radius: 0;
    }
    
    /* Koenig cards - full bleed */
    .gh-content .kg-card {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }
    
    /* Author card */
    .author-avatar {
        width: 40px;
        height: 40px;
    }
    
    .author-card p {
        font-size: 0.8rem;
    }
    
    /* Error page */
    .error-code {
        font-size: clamp(3rem, 15vw, 5rem);
    }
    
    .error-message {
        font-size: 1rem;
    }
    
    .error-description {
        font-size: 0.8rem;
    }
}


/* =============================================================================
   §14. ACCESSIBILITY & PRINT STYLES
   =============================================================================
   
   Enhancements for accessibility, touch devices, and printing.
   ========================================================================== */


/* -----------------------------------------------------------------------------
   Touch & Accessibility Enhancements
   
   Ensures buttons and links are easy to tap on touch devices.
   Follows WCAG guidelines for minimum touch target size (44x44px).
   -------------------------------------------------------------------------- */

@media (max-width: 767px) {
    /* Larger tap targets */
    .gh-head-menu a,
    .site-footer-nav a,
    .post-card-content-link,
    .note-link {
        padding: 8px 0;
    }
    
    /* Better button sizing for touch */
    .gh-head-button,
    .gh-hero-form button,
    button[type="submit"] {
        min-height: 44px;
        min-width: 44px;
    }
    
    .gh-search {
        width: 44px;
        height: 44px;
    }
    
    /* Prevent zoom on input focus (iOS) */
    input[type="email"],
    input[type="text"],
    textarea {
        font-size: 16px;
    }
}


/* -----------------------------------------------------------------------------
   Reduced Motion
   
   Respects user preference for reduced motion (accessibility setting).
   Disables animations and transitions for users who prefer less motion.
   -------------------------------------------------------------------------- */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .post-card-image-link:hover .post-card-image {
        transform: none;
    }
}


/* -----------------------------------------------------------------------------
   Print Styles
   
   Optimizations for printing articles.
   Hides navigation and unnecessary elements, optimizes typography.
   -------------------------------------------------------------------------- */

@media print {
    .gh-head,
    .site-footer,
    .gh-head-actions,
    .newsletter-signup,
    .pagination {
        display: none;
    }
    
    .outer {
        padding: 0;
    }
    
    .gh-content {
        font-size: 12pt;
        line-height: 1.5;
    }
    
    a {
        text-decoration: none;
        color: inherit;
    }
    
    .gh-content a::after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
        color: #666;
    }
}
